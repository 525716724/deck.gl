(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{UNS5:function(t,e,i){"use strict";i.r(e);var r=i("dI71"),n=i("q1tI"),o=i.n(n),a=i("lxDd"),s=(i("i8i4"),i("pLLy")),c=i("5VxJ"),u=i("vuIU"),p=i("rePB"),h=i("hAA0"),l=i("YiiH"),d=i("R25c"),v=i("1+Ew"),f=i("lKxY"),g=i("rBR8"),b=i("kDl2"),m=i("18Jy"),P=i("2bi0"),w={position:[0,0,0],pitch:0,bearing:0,maxPitch:90,minPitch:-90},O={transitionDuration:300,transitionEasing:function(t){return t},transitionInterpolator:new m.a(["position","pitch","bearing"]),transitionInterruption:P.a.BREAK},y=function(t){function e(e){var i,r=e.width,n=e.height,o=e.position,a=void 0===o?w.position:o,s=e.bearing,c=void 0===s?w.bearing:s,u=e.pitch,p=void 0===u?w.pitch:u,h=e.longitude,l=e.latitude,d=e.maxPitch,v=void 0===d?w.maxPitch:d,f=e.minPitch,g=void 0===f?w.minPitch:f,b=e.startRotatePos,m=e.startBearing,P=e.startPitch,O=e.startZoomPosition,y=e.startZoom;return(i=t.call(this,{width:r,height:n,position:a,bearing:c,pitch:p,longitude:h,latitude:l,maxPitch:v,minPitch:g})||this)._state={startRotatePos:b,startBearing:m,startPitch:P,startZoomPosition:O,startZoom:y},i}Object(r.a)(e,t);var i=e.prototype;return i.getDirection=function(t){return void 0===t&&(t=!1),new v.d({bearing:this._viewportProps.bearing,pitch:t?90:90+this._viewportProps.pitch}).toVector3().normalize()},i.panStart=function(){return this},i.pan=function(){return this},i.panEnd=function(){return this},i.rotateStart=function(t){var e=t.pos;return this._getUpdatedState({startRotatePos:e,startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})},i.rotate=function(t){var e,i=t.pos,r=t.deltaAngleX,n=void 0===r?0:r,o=t.deltaAngleY,a=void 0===o?0:o,s=this._state,c=s.startRotatePos,u=s.startBearing,p=s.startPitch,h=this._viewportProps,l=h.width,d=h.height;if(!c||!Number.isFinite(u)||!Number.isFinite(p))return this;i?e={bearing:u-180*((i[0]-c[0])/l),pitch:p-90*((i[1]-c[1])/d)}:e={bearing:u-n,pitch:p-a};return this._getUpdatedState(e)},i.rotateEnd=function(){return this._getUpdatedState({startRotatePos:null,startBearing:null,startPitch:null})},i.zoomStart=function(){return this._getUpdatedState({startZoomPosition:this._viewportProps.position,startZoom:this._viewportProps.zoom})},i.zoom=function(t){var e=t.scale,i=this._state.startZoomPosition;i||(i=this._viewportProps.position);var r=this.getDirection();return this._move(r,20*Math.log2(e),i)},i.zoomEnd=function(){return this._getUpdatedState({startZoomPosition:null,startZoom:null})},i.moveLeft=function(t){void 0===t&&(t=20);var e=this.getDirection(!0);return this._move(e.rotateZ({radians:Math.PI/2}),t)},i.moveRight=function(t){void 0===t&&(t=20);var e=this.getDirection(!0);return this._move(e.rotateZ({radians:-Math.PI/2}),t)},i.moveUp=function(t){void 0===t&&(t=20);var e=this.getDirection(!0);return this._move(e,t)},i.moveDown=function(t){void 0===t&&(t=20);var e=this.getDirection(!0);return this._move(e.negate(),t)},i.rotateLeft=function(t){return void 0===t&&(t=15),this._getUpdatedState({bearing:this._viewportProps.bearing-t})},i.rotateRight=function(t){return void 0===t&&(t=15),this._getUpdatedState({bearing:this._viewportProps.bearing+t})},i.rotateUp=function(t){return void 0===t&&(t=10),this._getUpdatedState({pitch:this._viewportProps.pitch+t})},i.rotateDown=function(t){return void 0===t&&(t=10),this._getUpdatedState({pitch:this._viewportProps.pitch-t})},i.zoomIn=function(t){return void 0===t&&(t=2),this.zoom({scale:t})},i.zoomOut=function(t){return void 0===t&&(t=2),this.zoom({scale:1/t})},i.shortestPathFrom=function(t){var e=t.getViewportProps(),i=Object.assign({},this._viewportProps),r=i.bearing,n=i.longitude;return Math.abs(r-e.bearing)>180&&(i.bearing=r<0?r+360:r-360),Math.abs(n-e.longitude)>180&&(i.longitude=n<0?n+360:n-360),i},i._move=function(t,e,i){void 0===i&&(i=this._viewportProps.position);var r=t.scale(e);return this._getUpdatedState({position:new v.c(i).add(r)})},i._getUpdatedState=function(t){return new e(Object.assign({},this._viewportProps,this._state,t))},i._applyConstraints=function(t){var e=t.pitch,i=t.maxPitch,r=t.minPitch,n=t.longitude,o=t.bearing;return t.pitch=Object(v.e)(e,r,i),(n<-180||n>180)&&(t.longitude=Object(b.e)(n+180,360)-180),(o<-180||o>180)&&(t.bearing=Object(b.e)(o+180,360)-180),t},e}(g.a),_=function(t){function e(e){return t.call(this,y,e)||this}return Object(r.a)(e,t),e.prototype._getTransitionProps=function(){return O},e}(f.a);function j(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function S(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?j(Object(i),!0).forEach((function(e){Object(p.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):j(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var A=function(t){function e(e){var i=e.modelMatrix,r=void 0===i?null:i,n=e.bearing,o=void 0===n?0:n,a=e.pitch,s=void 0===a?0:a,c=e.up,u=void 0===c?[0,0,1]:c,p=function(t){var e=t.bearing,i=t.pitch;return new v.d({bearing:e,pitch:i}).toVector3().normalize()}({bearing:o,pitch:-90===s?1e-4:90+s}),h=r?r.transformDirection(p):p,l=Object(d.h)(e),f=Math.pow(2,l),g=(new v.a).lookAt({eye:[0,0,0],center:h,up:u}).scale(f);return t.call(this,S(S({},e),{},{zoom:l,viewMatrix:g}))||this}return Object(r.a)(e,t),e}(l.a),D=function(t){function e(e){return t.call(this,Object.assign({},e,{type:A}))||this}return Object(r.a)(e,t),Object(u.a)(e,[{key:"controller",get:function(){return this._getControllerProps({type:_})}}]),e}(h.a);D.displayName="FirstPersonView";var E=i("Cdqv"),R=i("vJI4"),M=new R.a({nlat:50,nlong:50,radius:150}),U={width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",opacity:.5},k={latitude:0,longitude:0,position:[0,0,0],pitch:0,bearing:90};function I(){var t=Object(n.useState)(!1),e=t[0],i=t[1],r=Object(n.useMemo)((function(){if("undefined"!=typeof document){var t=document.createElement("video");t.crossOrigin="anonymous",t.preload="auto",t.loop=!0;var e=document.createElement("source");return e.src="https://upload.wikimedia.org/wikipedia/commons/transcoded/0/0a/NASA_VR-360_Astronaut_Training-_Space_Walk.webm/NASA_VR-360_Astronaut_Training-_Space_Walk.webm.1080p.webm",t.append(e),t}return null}),[]),a=new E.a({id:"video-sphere",data:[0],coordinateSystem:c.a.METER_OFFSETS,texture:r,mesh:M,getPosition:function(t){return[0,0,0]},getOrientation:[0,0,-90],getScale:[1,1,-1],material:!1});return o.a.createElement(s.a,{views:new D,initialViewState:k,controller:{scrollZoom:!1,doubleClickZoom:!1},layers:[a],onClick:function(){e?r.pause():r.play(),i(!e)},_animate:!0},!e&&o.a.createElement("div",{style:U},o.a.createElement("img",{src:"/images/play.png",width:150})))}var z=i("CtqP"),x=function(t){function e(){return t.apply(this,arguments)||this}return Object(r.a)(e,t),e.renderInfo=function(){return o.a.createElement("div",null,o.a.createElement("p",null,"The 360 video was created by NASA Jet Propulsion Laboratory, Public domain, via",o.a.createElement("a",{href:"https://commons.wikimedia.org/wiki/File:NASA_VR-360_Astronaut_Training-_Space_Walk.webm"}," Wikimedia Commons")))},e.prototype.render=function(){return o.a.createElement(I,this.props)},e}(n.Component);x.title="360 Video: NASA Astronaut Training",x.code=a.b+"/examples/website/360-video";e.default=Object(z.a)(x)},vJI4:function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var r=i("rePB"),n=i("1OyB"),o=i("Ji7U"),a=i("md7G"),s=i("foSv"),c=i("7G5M"),u=i("HYgG");function p(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function h(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?p(Object(i),!0).forEach((function(e){Object(r.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,r=Object(s.a)(t);if(e){var n=Object(s.a)(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return Object(a.a)(this,i)}}var d=function(t){Object(o.a)(i,t);var e=l(i);function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(n.a)(this,i);var r=t.id,o=void 0===r?Object(u.c)("sphere-geometry"):r,a=v(t),s=a.indices,c=a.attributes;return e.call(this,h(h({},t),{},{id:o,indices:s,attributes:h(h({},c),t.attributes)}))}return i}(c.a);function v(t){var e=t.nlat,i=void 0===e?10:e,r=t.nlong,n=void 0===r?10:r,o=t.radius,a=void 0===o?1:o,s=Math.PI-0,c=2*Math.PI-0,u=(i+1)*(n+1);if("number"==typeof a){var p=a;a=function(t,e,i,r,n){return p}}for(var h=new Float32Array(3*u),l=new Float32Array(3*u),d=new Float32Array(2*u),v=new(u>65535?Uint32Array:Uint16Array)(i*n*6),f=0;f<=i;f++)for(var g=0;g<=n;g++){var b=g/n,m=f/i,P=g+f*(n+1),w=2*P,O=3*P,y=c*b,_=s*m,j=Math.sin(y),S=Math.cos(y),A=Math.sin(_),D=S*A,E=Math.cos(_),R=j*A,M=a(D,E,R,b,m);h[O+0]=M*D,h[O+1]=M*E,h[O+2]=M*R,l[O+0]=D,l[O+1]=E,l[O+2]=R,d[w+0]=b,d[w+1]=1-m}for(var U=n+1,k=0;k<n;k++)for(var I=0;I<i;I++){var z=6*(k*i+I);v[z+0]=I*U+k,v[z+1]=I*U+k+1,v[z+2]=(I+1)*U+k,v[z+3]=(I+1)*U+k,v[z+4]=I*U+k+1,v[z+5]=(I+1)*U+k+1}return{indices:{size:1,value:v},attributes:{POSITION:{size:3,value:h},NORMAL:{size:3,value:l},TEXCOORD_0:{size:2,value:d}}}}}}]);